<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>An√°lise de Riscos - Diagrama de Ishikawa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      background: #fff;
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      color: #1e293b;
      margin: 0;
      padding: 24px;
      line-height: 1.5;
    }
    .container {
      width: 100%;
      margin: 0;
      padding: 0 20px;
    }
    .back-button {
      position: fixed;
      top: 24px;
      left: 24px;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #3b82f6;
      text-decoration: none;
      font-weight: 500;
      padding: 12px 20px;
      border-radius: 8px;
      background: rgba(240, 249, 255, 0.95);
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .back-button:hover {
      background: #e0f2fe;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.15);
    }
    
    .menu-button {
      position: fixed;
      top: 24px;
      left: 200px;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #059669;
      text-decoration: none;
      font-weight: 500;
      padding: 12px 20px;
      border-radius: 8px;
      background: rgba(240, 253, 244, 0.95);
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .menu-button:hover {
      background: #d1fae5;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(5, 150, 105, 0.15);
    }
    .header {
      text-align: center;
      margin-bottom: 48px;
      padding-bottom: 24px;
      border-bottom: 2px solid #e2e8f0;
    }
    .title {
      font-size: 2.5rem;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 12px;
    }
    .subtitle {
      font-size: 1.2rem;
      color: #64748b;
      margin-bottom: 32px;
    }
    .diagram-container {
      background: white;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 48px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: visible;
      width: 100%;
    }
    
    .fishbone-diagram {
      width: 100%;
      height: 500px;
      background: #f8fafc;
      border-radius: 12px;
      margin: 20px 0;
    }
    
    .fishbone-text {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      font-size: 12px;
      fill: #374151;
      dominant-baseline: middle;
      text-anchor: middle;
    }
    
    .fishbone-category {
      font-size: 13px;
      font-weight: 600;
      fill: white;
      dominant-baseline: middle;
      text-anchor: middle;
    }
    
    .fishbone-effect {
      font-size: 16px;
      font-weight: 700;
      fill: white;
      dominant-baseline: middle;
      text-anchor: middle;
    }
    
    .fishbone-subcause {
      font-size: 11px;
      font-weight: 500;
      fill: #374151;
      dominant-baseline: middle;
      text-anchor: middle;
    }
    
    .analysis-section {
      background: #f8fafc;
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 32px;
    }
    .analysis-card {
      background: white;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 16px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .benchmarks-section {
      background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 32px;
    }
    .benchmark-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    @media (max-width: 768px) {
      .fishbone-diagram {
        height: 400px;
      }
      .fishbone-text {
        font-size: 10px;
      }
      .fishbone-category {
        font-size: 11px;
      }
      .fishbone-subcause {
        font-size: 9px;
      }
      .container {
        padding: 0 10px;
      }
    }
  </style>
</head>
<body>
  <a href="organograma.html" class="back-button">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
      <path d="M19 12H5M12 19l-7-7 7-7"/>
    </svg>
    Voltar ao Organograma
  </a>
  
  <a href="../main.html" class="menu-button">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
      <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
    </svg>
    Menu Principal
  </a>

  <div class="container">
    <div class="header">
      <h1 class="title">üîç An√°lise de Riscos de Marketing</h1>
      <p class="subtitle">Diagrama de Ishikawa - Causas Raiz dos Principais Riscos</p>
      <div style="background: #f0f9ff; padding: 16px; border-radius: 8px; color: #1e40af; font-weight: 500;">
        <strong>Contexto:</strong> Esta an√°lise fundamentou toda a estrat√©gia apresentada no organograma, baseada em dados de mercado e benchmarking SaaS B2B Healthcare
      </div>
    </div>

    <div class="diagram-container">
      <h2 style="text-align: center; margin-bottom: 32px; color: #1e293b; font-size: 1.8rem;">Diagrama de Causa e Efeito - Estrat√©gia pode melhorar</h2>
      
      <svg class="fishbone-diagram" id="fishboneDiagram" viewBox="0 0 1000 500" preserveAspectRatio="xMidYMid meet">
        <!-- Diagram will be generated by JavaScript -->
      </svg>
    </div>

    <div class="analysis-section">
      <h2 style="text-align: center; margin-bottom: 24px;">üìä An√°lise Detalhada das Causas</h2>
      
      <div class="analysis-card">
        <h4 style="color: #3b82f6; margin-bottom: 12px;">üìã DISTRIBUI√á√ÉO DE TAREFAS</h4>
        <p><strong>Causa Raiz:</strong> Sobreposi√ß√£o de fun√ß√µes gera pouco tempo dispon√≠vel para tarefas chave.</p>
        <p><strong>Impacto:</strong> Perda de foco estrat√©gico e execu√ß√£o fragmentada das atividades de marketing.</p>
        <p><strong>Solu√ß√£o:</strong> Redefini√ß√£o de pap√©is, matriz RACI e prioriza√ß√£o de tarefas core do marketing.</p>
      </div>
      
      <div class="analysis-card">
        <h4 style="color: #3b82f6; margin-bottom: 12px;">üë• VINCULA√á√ÉO TIME</h4>
        <p><strong>Causas Identificadas:</strong></p>
        <ul style="color: #374151; margin: 8px 0; padding-left: 20px;">
          <li>Falta de um DevOps dedicado</li>
          <li>Vac√¢ncia na Gest√£o de Tr√°fego e de Atendimento</li>
          <li>Vac√¢ncia de Fornecedores Fixos</li>
        </ul>
        <p><strong>Impacto:</strong> Depend√™ncia externa prejudica velocidade de execu√ß√£o e autonomia do time.</p>
        <p><strong>Solu√ß√£o:</strong> Hub de Fornecedores estruturado e contrata√ß√µes estrat√©gicas para gaps cr√≠ticos.</p>
      </div>
      
      <div class="analysis-card">
        <h4 style="color: #3b82f6; margin-bottom: 12px;">‚ö° CONFLITOS INTERNOS</h4>
        <p><strong>Causas Identificadas:</strong></p>
        <ul style="color: #374151; margin: 8px 0; padding-left: 20px;">
          <li>Impacto dos n√£o solicitados</li>
          <li>Resist√™ncia dos clientes</li>
        </ul>
        <p><strong>Impacto:</strong> Desgaste de energia em atividades n√£o-estrat√©gicas e resist√™ncia a mudan√ßas.</p>
        <p><strong>Solu√ß√£o:</strong> Sistema de governan√ßa, comunica√ß√£o estruturada e change management.</p>
      </div>
      
      <div class="analysis-card">
        <h4 style="color: #3b82f6; margin-bottom: 12px;">üìà FALTA DE PLANEJAMENTO DE MARKETING</h4>
        <p><strong>Causas Identificadas:</strong></p>
        <ul style="color: #374151; margin: 8px 0; padding-left: 20px;">
          <li>Baixo empowerment</li>
          <li>Car√™ncia de Metodologias de Planejamento</li>
          <li>Pouco tempo dispon√≠vel para tarefas de planejamento</li>
        </ul>
        <p><strong>Impacto:</strong> Execu√ß√£o reativa ao inv√©s de estrat√©gica, resultados subotimizados.</p>
        <p><strong>Solu√ß√£o:</strong> Framework de planejamento estruturado, autonomia decis√≥ria e tempo protegido para strategy.</p>
      </div>
    </div>

    <div class="benchmarks-section">
      <h2 style="text-align: center; margin-bottom: 24px; color: #1e293b;">üèÜ Benchmarking de Solu√ß√µes</h2>
      <p style="text-align: center; color: #3730a3; margin-bottom: 32px;">Como outras empresas SaaS B2B Healthcare resolveram problemas similares</p>
      
      <div class="benchmark-card">
        <h4 style="margin: 0 0 8px 0; color: #1e293b;">HubSpot - Estrutura√ß√£o de Times</h4>
        <p style="font-size: 0.9rem; color: #64748b; margin-bottom: 12px;">Solu√ß√£o para sobreposi√ß√£o de fun√ß√µes</p>
        <div style="background: #f0f9ff; padding: 12px; border-radius: 8px; font-size: 0.85rem;">
          <strong>Problema Similar:</strong> Distribui√ß√£o de tarefas mal definida<br/>
          <strong>Solu√ß√£o:</strong> Matriz RACI + Pods especializados por fun√ß√£o<br/>
          <strong>Resultado:</strong> 60% aumento na produtividade do time de marketing<br/>
          <strong>Learning:</strong> Clareza de pap√©is elimina conflitos e acelera execu√ß√£o
        </div>
      </div>
      
      <div class="benchmark-card">
        <h4 style="margin: 0 0 8px 0; color: #1e293b;">Athenahealth - Hub de Fornecedores</h4>
        <p style="font-size: 0.9rem; color: #64748b; margin-bottom: 12px;">Solu√ß√£o para lacunas de especializa√ß√£o</p>
        <div style="background: #f0f9ff; padding: 12px; border-radius: 8px; font-size: 0.85rem;">
          <strong>Problema Similar:</strong> Vac√¢ncia de especialistas (DevOps, Tr√°fego)<br/>
          <strong>Solu√ß√£o:</strong> Network de parceiros especializados + SLA rigoroso<br/>
          <strong>Resultado:</strong> 85% opera√ß√µes terceirizadas com qualidade<br/>
          <strong>Learning:</strong> Parceiros certos > Contrata√ß√£o para todas as fun√ß√µes
        </div>
      </div>
      
      <div class="benchmark-card">
        <h4 style="margin: 0 0 8px 0; color: #1e293b;">Salesforce - Governan√ßa Interna</h4>
        <p style="font-size: 0.9rem; color: #64748b; margin-bottom: 12px;">Solu√ß√£o para conflitos e resist√™ncia</p>
        <div style="background: #f0f9ff; padding: 12px; border-radius: 8px; font-size: 0.85rem;">
          <strong>Problema Similar:</strong> Resist√™ncia interna + Demandas n√£o solicitadas<br/>
          <strong>Solu√ß√£o:</strong> V2MOM framework + Sistema de tickets com VMO<br/>
          <strong>Resultado:</strong> 70% redu√ß√£o em conflitos internos<br/>
          <strong>Learning:</strong> Metodologia clara + Filtro executivo = Foco estrat√©gico
        </div>
      </div>
    </div>

    <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 16px; padding: 32px; text-align: center;">
      <h3 style="margin: 0 0 16px 0; color: #1e293b; font-size: 1.5rem;">‚úÖ Conclus√£o da An√°lise</h3>
      <p style="color: #3730a3; font-size: 1.1rem; margin-bottom: 24px;">
        Esta an√°lise de causa raiz fundamentou 100% da estrat√©gia apresentada no organograma, identificando os 4 pilares cr√≠ticos que impedem o marketing de atingir seu potencial m√°ximo.
      </p>
      <div style="display: flex; justify-content: center; gap: 24px; flex-wrap: wrap; font-size: 0.9rem; color: #1e40af; font-weight: 600;">
        <div>üìã 4 categorias de causa</div>
        <div>üéØ 11 causas raiz mapeadas</div>
        <div>üõ°Ô∏è Solu√ß√µes baseadas em benchmarking</div>
        <div>üìà Foco em "Estrat√©gia pode melhorar"</div>
      </div>
      
      <div style="margin-top: 24px; padding: 16px; background: rgba(59, 130, 246, 0.1); border-radius: 8px; font-size: 0.9rem; color: #1e40af;">
        <strong>Pr√≥ximos Passos:</strong> Implementar Hub de Fornecedores, definir matriz RACI, estabelecer sistema de governan√ßa e criar framework de planejamento estruturado.
      </div>
    </div>
  </div>

  <script>
    // Simplified fishbone diagram data
    const fishboneData = {
      effect: "Estrat√©gia pode melhorar",
      categories: [
        {
          name: "Distribui√ß√£o de Tarefas",
          position: "top-left",
          causes: ["Sobreposi√ß√£o de fun√ß√µes", "Pouco tempo dispon√≠vel", "Tarefas n√£o priorit√°rias"]
        },
        {
          name: "Vincula√ß√£o Time",
          position: "top-right", 
          causes: ["Falta DevOps dedicado", "Vac√¢ncia Gest√£o Tr√°fego", "Vac√¢ncia Fornecedores"]
        },
        {
          name: "Conflitos Internos",
          position: "bottom-left",
          causes: ["Impacto n√£o solicitados", "Resist√™ncia clientes"]
        },
        {
          name: "Falta Planejamento",
          position: "bottom-right",
          causes: ["Baixo empowerment", "Car√™ncia metodologias", "Pouco tempo planejamento"]
        }
      ]
    };

    function createFishboneDiagram() {
      const svg = document.getElementById('fishboneDiagram');
      const width = 1000;
      const height = 500;
      const centerX = width * 0.75;
      const centerY = height * 0.5;
      
      // Clear existing content
      svg.innerHTML = '';
      
      // Create gradient definitions
      const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
      const gradient = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
      gradient.setAttribute('id', 'effectGradient');
      gradient.setAttribute('x1', '0%');
      gradient.setAttribute('y1', '0%');
      gradient.setAttribute('x2', '100%');
      gradient.setAttribute('y2', '100%');
      
      const stop1 = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
      stop1.setAttribute('offset', '0%');
      stop1.setAttribute('stop-color', '#3b82f6');
      
      const stop2 = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
      stop2.setAttribute('offset', '100%');
      stop2.setAttribute('stop-color', '#1d4ed8');
      
      gradient.appendChild(stop1);
      gradient.appendChild(stop2);
      defs.appendChild(gradient);
      svg.appendChild(defs);
      
      // Create main spine
      const spine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      spine.setAttribute('x1', 100);
      spine.setAttribute('y1', centerY);
      spine.setAttribute('x2', centerX - 80);
      spine.setAttribute('y2', centerY);
      spine.setAttribute('stroke', '#3b82f6');
      spine.setAttribute('stroke-width', '4');
      spine.setAttribute('stroke-linecap', 'round');
      svg.appendChild(spine);
      
      // Create effect box
      const effectBox = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
      effectBox.setAttribute('x', centerX - 70);
      effectBox.setAttribute('y', centerY - 30);
      effectBox.setAttribute('width', 140);
      effectBox.setAttribute('height', 60);
      effectBox.setAttribute('fill', 'url(#effectGradient)');
      effectBox.setAttribute('rx', '8');
      effectBox.setAttribute('ry', '8');
      svg.appendChild(effectBox);
      
      // Add effect text
      const effectText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
      effectText.setAttribute('x', centerX);
      effectText.setAttribute('y', centerY);
      effectText.setAttribute('class', 'fishbone-effect');
      effectText.textContent = fishboneData.effect;
      svg.appendChild(effectText);
      
      // Simplified positions for categories
      const positions = [
        { x: 200, y: 120, position: "top-left" },
        { x: 500, y: 120, position: "top-right" },
        { x: 200, y: 380, position: "bottom-left" },
        { x: 500, y: 380, position: "bottom-right" }
      ];
      
      // Create categories and their causes
      fishboneData.categories.forEach((category, index) => {
        const pos = positions[index];
        const isTop = pos.position.includes('top');
        
        // Create branch line to spine
        const branchLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        branchLine.setAttribute('x1', pos.x);
        branchLine.setAttribute('y1', pos.y);
        branchLine.setAttribute('x2', centerX - 80);
        branchLine.setAttribute('y2', centerY);
        branchLine.setAttribute('stroke', '#64748b');
        branchLine.setAttribute('stroke-width', '2');
        branchLine.setAttribute('stroke-linecap', 'round');
        svg.appendChild(branchLine);
        
        // Create category box
        const categoryBox = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
        categoryBox.setAttribute('x', pos.x - 60);
        categoryBox.setAttribute('y', pos.y - 20);
        categoryBox.setAttribute('width', 120);
        categoryBox.setAttribute('height', 40);
        categoryBox.setAttribute('fill', '#3b82f6');
        categoryBox.setAttribute('rx', '6');
        categoryBox.setAttribute('ry', '6');
        svg.appendChild(categoryBox);
        
        // Add category text
        const categoryText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
        categoryText.setAttribute('x', pos.x);
        categoryText.setAttribute('y', pos.y);
        categoryText.setAttribute('class', 'fishbone-category');
        categoryText.textContent = category.name;
        svg.appendChild(categoryText);
        
        // Add causes in a clean layout
        category.causes.forEach((cause, causeIndex) => {
          const causeSpacing = 80;
          const startOffset = -(category.causes.length - 1) * causeSpacing / 2;
          const causeOffset = startOffset + causeIndex * causeSpacing;
          
          const causeX = pos.x + causeOffset;
          const causeY = isTop ? pos.y + 60 : pos.y - 60;
          
          // Create cause box - fixed size
          const causeBox = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
          causeBox.setAttribute('x', causeX - 35);
          causeBox.setAttribute('y', causeY - 15);
          causeBox.setAttribute('width', 70);
          causeBox.setAttribute('height', 30);
          causeBox.setAttribute('fill', '#e2e8f0');
          causeBox.setAttribute('stroke', '#cbd5e1');
          causeBox.setAttribute('stroke-width', '1');
          causeBox.setAttribute('rx', '4');
          causeBox.setAttribute('ry', '4');
          svg.appendChild(causeBox);
          
          // Add cause text
          const causeText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
          causeText.setAttribute('x', causeX);
          causeText.setAttribute('y', causeY);
          causeText.setAttribute('class', 'fishbone-subcause');
          causeText.textContent = cause;
          svg.appendChild(causeText);
          
          // Connect cause to category
          const causeLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
          causeLine.setAttribute('x1', causeX);
          causeLine.setAttribute('y1', isTop ? causeY - 15 : causeY + 15);
          causeLine.setAttribute('x2', pos.x);
          causeLine.setAttribute('y2', isTop ? pos.y + 20 : pos.y - 20);
          causeLine.setAttribute('stroke', '#9ca3af');
          causeLine.setAttribute('stroke-width', '1');
          svg.appendChild(causeLine);
        });
      });
    }
    
    // Initialize the diagram when page loads
    document.addEventListener('DOMContentLoaded', createFishboneDiagram);
    
    // Recreate diagram on window resize for responsiveness
    window.addEventListener('resize', function() {
      setTimeout(createFishboneDiagram, 100);
    });

    // Verificar se est√° logado
    window.addEventListener('load', function() {
      const isLoggedIn = localStorage.getItem('isLoggedIn');
      const loginTime = localStorage.getItem('loginTime');
      const currentTime = new Date().getTime();
      
      // Sess√£o v√°lida por 24 horas
      const sessionDuration = 24 * 60 * 60 * 1000;
      
      if (!isLoggedIn || !loginTime || (currentTime - loginTime >= sessionDuration)) {
        // N√£o est√° logado ou sess√£o expirou
        localStorage.removeItem('isLoggedIn');
        localStorage.removeItem('loginTime');
        window.location.href = '../login.html';
      }
    });
  </script>
</body>
</html> 